var igdb = require('./index');

//igdb.platforms.get({}, function(err, response) {
//    console.log(err);
//    console.log(response);
//});
//
//igdb.platforms.get({offset: 26}, function(err, response) {
//    console.log(err);
//    console.log(response);
//});

//igdb.platforms.getById(16, {}, function(err, response) {
//    console.log(err);
//    console.log(response);
//});

//igdb.platforms.getGamesByPlatformId(16, {}, function(err, response) {
//    console.log(err);
//    console.log(response);
//});

//igdb.platforms.meta.get(function(err, response) {
//    console.log(err);
//    console.log(response);
//});




var platformsCount = 0,
    offset = 0;

var fetchPlatforms = function(offset) {
    igdb.platforms.get({offset: offset}, function(err, response) {
        offset = offset + response.platforms.length;
        console.log(response);
        if (offset < platformsCount) {
            fetchPlatforms(offset);
        }
    });
};

igdb.platforms.meta.get(function(err, response) {
    platformsCount = response.size;
    fetchPlatforms(offset);
});